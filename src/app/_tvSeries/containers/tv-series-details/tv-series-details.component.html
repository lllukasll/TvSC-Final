<div class="bg" >
  <img class="background-photo" src="http://localhost:50388/tvShow/photo/{{currentTvShow$ && currentTvShow$.backgroundPhotoName}}" />
</div>

<div class="content">
    <div class="row info-tab">
      <div class="details-container">
        <div class="banner">
          <img src='http://localhost:50388/tvShow/photo/{{currentTvShow$ && currentTvShow$.photoName}}'  />
        </div>
        <div class="details-informations">
          <span class="details">
            <div class="title">
              {{currentTvShow$ && currentTvShow$.name}}
            </div>
            <div class="network">
              Produced by {{currentTvShow$ && currentTvShow$.network}}
            </div>
            <div class="rating-start">
              <i class="fa fa-star" aria-hidden="true"></i>
              <i class="fa fa-star" aria-hidden="true"></i>
              <i class="fa fa-star" aria-hidden="true"></i>
              <i class="fa fa-star" aria-hidden="true"></i>
              <i class="fa fa-star-o" aria-hidden="true"></i>
              <span>4/5</span>
            </div>
            <div *ngIf='currentTvShow$' class="tags">
              <span  *ngFor='let tag of currentTvShow$.categories' class={{tag.type}}>{{tag.name}}</span>
            </div>
            <div class="description">
                {{currentTvShow$ && currentTvShow$.longDescription}}
            </div>
          </span>

          <span class="rating">
            <app-rating-container
              [addRating]='true'
              [ratingModel]='ratingModel'
              [message]='currentTvShow$ && currentTvShow$.userRatingDto ? "Edytuj ocenę" : "Dodaj ocenę" '
              [buttonContent]='currentTvShow$ && currentTvShow$.userRatingDto ? "Edytuj ocenę" : "Dodaj ocenę" '
              (sendRating)='currentTvShow$ && currentTvShow$.userRatingDto ? updateRating($event) : addRating($event)'
            ></app-rating-container>
          </span>
        </div>
      </div>

      <div class="favourite" (click)='addToFavouriteClick()' title='Kliknij aby dodać serial do ulubionych' *ngIf='currentTvShow$ && !currentTvShow$.isFavourite'>
        <i class="fa fa-heart"></i>Dodaj do ulubionych
      </div>

      <div class="favourite" (click)='removeFromFavouritesClick()' title='Kliknij aby przestać obserwować ten serial' *ngIf='currentTvShow$ && currentTvShow$.isFavourite'>
        <i class="fa fa-heart"></i>Lubisz ten serial
      </div>

      <div class="next">
        <app-tv-series-timer *ngIf='closestEpisode$'
          [episode]='closestEpisode$ && closestEpisode$'
        ></app-tv-series-timer>
      </div>

    </div>
    <hr style="opacity: 0.3; margin: 0px 10px;"/>
    <div class="row">
      <div class="content-container">
        <div class="seasons">
          <app-tv-series-details-seasons
            [seasons]='currentTvShow$ && currentTvShow$.seasons'
          ></app-tv-series-details-seasons>
        </div>
        <div class="cast">
          <app-tv-series-details-cast
            [cast]='currentTvShow$ && currentTvShow$.actors'
          ></app-tv-series-details-cast>
        </div>
      </div>
    </div>
  </div>
